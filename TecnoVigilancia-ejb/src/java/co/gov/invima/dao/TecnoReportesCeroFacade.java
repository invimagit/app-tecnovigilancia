/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

package co.gov.invima.dao;
/**************************************************************************/
/**************************************************************************/
/**************************************************************************/
import co.gov.invima.entidad.TecnoReportesCero;
import java.util.List;
import javax.ejb.Stateless;
import javax.persistence.EntityManager;
import javax.persistence.PersistenceContext;
import javax.persistence.Query;
/**************************************************************************/
/**************************************************************************/
/**************************************************************************/
/**************************************************************************/
/**************************************************************************/
/**************************************************************************/
/**
 *
 * @author Jaime Alberto Gutiérrez Mejía
 */
@Stateless
public class TecnoReportesCeroFacade implements TecnoReportesCeroFacadeLocal 
{
    //**********************************************************************
    //**********************************************************************
    //**********************************************************************
    //**********************************************************************
    //**********************************************************************
    //**********************************************************************
    @PersistenceContext(unitName = "TecnovigilanciaEJBPU")
    private EntityManager em;
    //**********************************************************************
    //**********************************************************************
    //**********************************************************************
    @Override
    public void create(TecnoReportesCero tecnoReportesCero) 
    {
        em.persist(tecnoReportesCero);
    }
    //**********************************************************************
    //**********************************************************************
    //**********************************************************************
    @Override
    public void edit(TecnoReportesCero tecnoReportesCero) 
    {
        em.merge(tecnoReportesCero);
    }
    //**********************************************************************
    //**********************************************************************
    //**********************************************************************
    @Override
    public void remove(TecnoReportesCero tecnoReportesCero) 
    {
        em.remove(em.merge(tecnoReportesCero));
    }
    //**********************************************************************
    //**********************************************************************
    //**********************************************************************
    @Override
    public TecnoReportesCero find(Object id) 
    {
        return em.find(TecnoReportesCero.class, id);
    }
    //**********************************************************************
    //**********************************************************************
    //**********************************************************************
    @Override
    public List<TecnoReportesCero> findAll() 
    {
        return em.createQuery("select object(o) from TecnoReportesCero as o").getResultList();
    }
    //**********************************************************************
    //**********************************************************************
    //**********************************************************************
    @Override
    public int buscarMaxId()
    //public long buscarMaxId()
    {
        //long respuesta;
        int respuesta;
            
        Query q = em.createQuery("SELECT max(tr.idregistro) from TecnoReportesCero as tr");
        //Query q = em.createQuery("select count(tr) from TecnoReportesCero tr");
         if(q.getSingleResult()==null)
            respuesta=0;
        else
            respuesta =(int)q.getSingleResult();
        
            //respuesta =(long)q.getSingleResult();
         
         return respuesta;
    }
    //**********************************************************************
    //**********************************************************************
    //**********************************************************************
    //**********************************************************************
    //**********************************************************************
    //**********************************************************************
}
/**************************************************************************/
/**************************************************************************/
/**************************************************************************/
/**************************************************************************/
/**************************************************************************/
/**************************************************************************/
